<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Box elements of a &lt;config&gt; class object that can be arrays — schema_autobox • hubAdmin</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Box elements of a &lt;config&gt; class object that can be arrays — schema_autobox"><meta name="description" content='Due to inconsistencies between R and JSON data types, in particular the
fact that R has no concept of a scalar, when writing R list objects to JSON
with write_config(),
some properties in the output file may not conform to schema expectations.
In particular, list elements that are vectors of length 1L will be written
as scalars, regardless of whether the schema expects an array. This function
uses the hubverse schema to identify elements that can be arrays and "box" any
such elements that exist in the &amp;lt;config&amp;gt; object and have a length of 1.
This ensures that they are written out as arrays instead of scalars in JSON
output files.
The transformation is also applied to any properties that should be arrays
covered by additionalProperties in the schema (e.g. custom task IDs).'><meta property="og:description" content='Due to inconsistencies between R and JSON data types, in particular the
fact that R has no concept of a scalar, when writing R list objects to JSON
with write_config(),
some properties in the output file may not conform to schema expectations.
In particular, list elements that are vectors of length 1L will be written
as scalars, regardless of whether the schema expects an array. This function
uses the hubverse schema to identify elements that can be arrays and "box" any
such elements that exist in the &amp;lt;config&amp;gt; object and have a length of 1.
This ensures that they are written out as arrays instead of scalars in JSON
output files.
The transformation is also applied to any properties that should be arrays
covered by additionalProperties in the schema (e.g. custom task IDs).'><meta property="og:image" content="https://hubverse-org.github.io/hubAdmin/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://hubdocs.readthedocs.io/en/latest/" class="external-link"><img src="https://raw.githubusercontent.com/hubverse-org/hubStyle/main/inst/hubverse.png" id="logo" height="30" alt="hubverse"></a>
    <a class="navbar-brand me-2" href="../index.html">hubAdmin</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.7.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/hub-setup.html">Setting up a Hub</a></li>
    <li><a class="dropdown-item" href="../articles/scripting-tasks-config.html">Scripting task configuration files</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/hubverse-org/hubAdmin/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Box elements of a <code>&lt;config&gt;</code> class object that can be arrays</h1>
      <small class="dont-index">Source: <a href="https://github.com/hubverse-org/hubAdmin/blob/main/R/schema_autobox.R" class="external-link"><code>R/schema_autobox.R</code></a></small>
      <div class="d-none name"><code>schema_autobox.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Due to inconsistencies between R and JSON data types, in particular the
fact that R has no concept of a scalar, when writing R list objects to JSON
with <code><a href="write_config.html">write_config()</a></code>,
some properties in the output file may not conform to schema expectations.
In particular, list elements that are vectors of length <code>1L</code> will be written
as scalars, regardless of whether the schema expects an array. This function
uses the hubverse schema to identify elements that can be arrays and "box" any
such elements that exist in the <code>&lt;config&gt;</code> object and have a length of 1.
This ensures that they are written out as arrays instead of scalars in JSON
output files.
The transformation is also applied to any properties that should be arrays
covered by <code>additionalProperties</code> in the schema (e.g. custom task IDs).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">schema_autobox</span><span class="op">(</span><span class="va">config</span>, box_extra_paths <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-config">config<a class="anchor" aria-label="anchor" href="#arg-config"></a></dt>
<dd><p>a <code>&lt;config&gt;</code> class object.</p></dd>


<dt id="arg-box-extra-paths">box_extra_paths<a class="anchor" aria-label="anchor" href="#arg-box-extra-paths"></a></dt>
<dd><p>a list of character vectors of paths to elements in the
<code>&lt;config&gt;</code> that can be arrays of vectors but are not covered by the schema.
Elements in a path where arrays of objects are expected should be encoded
as <code>"items"</code>. See output of <code><a href="get_array_schema_paths.html">get_array_schema_paths()</a></code> for more details,
especially the examples.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a <code>&lt;config&gt;</code> class object with list elements that can be arrays boxed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_config.html">create_config</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="create_rounds.html">create_rounds</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="create_round.html">create_round</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      round_id_from_variable <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>      round_id <span class="op">=</span> <span class="st">"origin_date"</span>,</span></span>
<span class="r-in"><span>      model_tasks <span class="op">=</span> <span class="fu"><a href="create_model_tasks.html">create_model_tasks</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="create_model_task.html">create_model_task</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          task_ids <span class="op">=</span> <span class="fu"><a href="create_task_ids.html">create_task_ids</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="fu"><a href="create_task_id.html">create_task_id</a></span><span class="op">(</span><span class="st">"origin_date"</span>,</span></span>
<span class="r-in"><span>              required <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>              optional <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                <span class="st">"2023-01-02"</span>,</span></span>
<span class="r-in"><span>                <span class="st">"2023-01-09"</span>,</span></span>
<span class="r-in"><span>                <span class="st">"2023-01-16"</span></span></span>
<span class="r-in"><span>              <span class="op">)</span></span></span>
<span class="r-in"><span>            <span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="create_task_id.html">create_task_id</a></span><span class="op">(</span><span class="st">"location"</span>,</span></span>
<span class="r-in"><span>              required <span class="op">=</span> <span class="st">"US"</span>,</span></span>
<span class="r-in"><span>              optional <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01"</span>, <span class="st">"02"</span>, <span class="st">"04"</span>, <span class="st">"05"</span>, <span class="st">"06"</span><span class="op">)</span></span></span>
<span class="r-in"><span>            <span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="create_task_id.html">create_task_id</a></span><span class="op">(</span><span class="st">"horizon"</span>,</span></span>
<span class="r-in"><span>              required <span class="op">=</span> <span class="fl">1L</span>,</span></span>
<span class="r-in"><span>              optional <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">4</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span>          <span class="op">)</span>,</span></span>
<span class="r-in"><span>          output_type <span class="op">=</span> <span class="fu"><a href="create_output_type.html">create_output_type</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="fu"><a href="create_output_type_mean.html">create_output_type_mean</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>              is_required <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>              value_type <span class="op">=</span> <span class="st">"double"</span>,</span></span>
<span class="r-in"><span>              value_minimum <span class="op">=</span> <span class="fl">0L</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span>          <span class="op">)</span>,</span></span>
<span class="r-in"><span>          target_metadata <span class="op">=</span> <span class="fu"><a href="create_target_metadata.html">create_target_metadata</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="fu"><a href="create_target_metadata_item.html">create_target_metadata_item</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>              target_id <span class="op">=</span> <span class="st">"inc hosp"</span>,</span></span>
<span class="r-in"><span>              target_name <span class="op">=</span> <span class="st">"Weekly incident influenza hospitalizations"</span>,</span></span>
<span class="r-in"><span>              target_units <span class="op">=</span> <span class="st">"rate per 100,000 population"</span>,</span></span>
<span class="r-in"><span>              target_keys <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>              target_type <span class="op">=</span> <span class="st">"discrete"</span>,</span></span>
<span class="r-in"><span>              is_step_ahead <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>              time_unit <span class="op">=</span> <span class="st">"week"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span>          <span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span>,</span></span>
<span class="r-in"><span>      submissions_due <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        relative_to <span class="op">=</span> <span class="st">"origin_date"</span>,</span></span>
<span class="r-in"><span>        start <span class="op">=</span> <span class="op">-</span><span class="fl">4L</span>,</span></span>
<span class="r-in"><span>        end <span class="op">=</span> <span class="fl">2L</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">schema_autobox</span><span class="op">(</span><span class="va">config</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $schema_version</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "https://raw.githubusercontent.com/hubverse-org/schemas/main/v6.0.0/tasks-schema.json"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$round_id_from_variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$round_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "origin_date"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$origin_date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$origin_date$required</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$origin_date$optional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2023-01-02" "2023-01-09" "2023-01-16"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$location</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$location$required</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$location$required[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "US"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$location$optional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "01" "02" "04" "05" "06"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$horizon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$horizon$required</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$horizon$required[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$task_ids$horizon$optional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2 3 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$output_type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$output_type$mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$output_type$mean$output_type_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$output_type$mean$output_type_id$required</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$output_type$mean$is_required</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$output_type$mean$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$output_type$mean$value$type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "double"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$output_type$mean$value$minimum</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$target_metadata</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$target_metadata[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$target_metadata[[1]]$target_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "inc hosp"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$target_metadata[[1]]$target_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Weekly incident influenza hospitalizations"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$target_metadata[[1]]$target_units</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rate per 100,000 population"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$target_metadata[[1]]$target_keys</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$target_metadata[[1]]$target_type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "discrete"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$target_metadata[[1]]$is_step_ahead</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$model_tasks[[1]]$target_metadata[[1]]$time_unit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "week"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$submissions_due</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$submissions_due$relative_to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "origin_date"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$submissions_due$start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rounds[[1]]$submissions_due$end</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "config" "list"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"type")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "tasks"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"schema_id")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "https://raw.githubusercontent.com/hubverse-org/schemas/main/v6.0.0/tasks-schema.json"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"branch")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "main"</span>
<span class="r-in"><span><span class="fu">schema_autobox</span><span class="op">(</span><span class="va">config</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://jeroen.r-universe.dev/jsonlite/reference/fromJSON.html" class="external-link">toJSON</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    auto_unbox <span class="op">=</span> <span class="cn">TRUE</span>, na <span class="op">=</span> <span class="st">"string"</span>,</span></span>
<span class="r-in"><span>    null <span class="op">=</span> <span class="st">"null"</span>, pretty <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "schema_version": "https://raw.githubusercontent.com/hubverse-org/schemas/main/v6.0.0/tasks-schema.json",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "rounds": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "round_id_from_variable": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "round_id": "origin_date",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "model_tasks": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           "task_ids": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             "origin_date": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "required": null,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "optional": ["2023-01-02", "2023-01-09", "2023-01-16"]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             "location": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "required": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 "US"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "optional": ["01", "02", "04", "05", "06"]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             "horizon": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "required": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "optional": [2, 3, 4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           "output_type": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             "mean": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "output_type_id": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 "required": null</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "is_required": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "value": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 "type": "double",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 "minimum": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           "target_metadata": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "target_id": "inc hosp",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "target_name": "Weekly incident influenza hospitalizations",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "target_units": "rate per 100,000 population",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "target_keys": null,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "target_type": "discrete",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "is_step_ahead": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               "time_unit": "week"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "submissions_due": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "relative_to": "origin_date",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "start": -4,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "end": 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> } </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anna Krystalli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3. PR Previews built by <a href="https://www.netlify.com" class="external-link">Netlify</a>. Provided without <strong>any warranty</strong>.</p>
</div>

    </footer></div>





  </body></html>

